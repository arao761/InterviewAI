# ============================================================================
# PREPWISE BACKEND ENVIRONMENT CONFIGURATION TEMPLATE
# ============================================================================
# This is an example configuration file. Copy this to .env and fill in your
# actual values. NEVER commit .env with real credentials to version control.
#
# Setup Instructions:
# 1. Copy this file: cp .env.example .env
# 2. Fill in all required values (marked as REQUIRED)
# 3. Ensure .env is in .gitignore
# 4. For production, use environment variables or secret management service
#
# SECURITY REMINDERS:
# - Use strong, unique secrets for production
# - Rotate API keys every 90 days
# - Use different keys for dev/staging/prod
# - Enable API key restrictions where possible
# - Monitor API usage for anomalies
# ============================================================================

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================
# SQLite for development, PostgreSQL for production
DATABASE_URL=sqlite:///./app.db
# For PostgreSQL (production):
# DATABASE_URL=postgresql://user:password@host:port/database

# PostgreSQL Connection Details (optional, for manual config)
DB_HOST=localhost
DB_PORT=5432
DB_NAME=prepwise_db
DB_USER=postgres
DB_PASSWORD=your-secure-password-here

# ============================================================================
# APPLICATION CONFIGURATION
# ============================================================================
APP_NAME=PrepWise
API_VERSION=v1
ENVIRONMENT=development  # Options: development, staging, production
DEBUG=True  # Set to False in production

# ============================================================================
# SERVER CONFIGURATION
# ============================================================================
HOST=0.0.0.0
PORT=8000
WORKERS=1  # Increase for production (e.g., (2 * CPU_cores) + 1)

# ============================================================================
# SECURITY CONFIGURATION
# ============================================================================
# JWT Secret Key - CRITICAL: Change this to a random, secure value
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=change-this-to-a-secure-random-string-in-production
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# ============================================================================
# CORS CONFIGURATION
# ============================================================================
# Comma-separated list of allowed origins
# SECURITY: Never use "*" in production - list explicit domains only
CORS_ORIGINS=http://localhost:3000,http://localhost:8001,https://yourdomain.vercel.app

# Trusted hosts for Host Header validation (production only)
TRUSTED_HOSTS=localhost,127.0.0.1,yourdomain.com,yourdomain.vercel.app

# ============================================================================
# REDIS CONFIGURATION (for caching and rate limiting)
# ============================================================================
REDIS_URL=redis://localhost:6379/0
# For Redis with password:
# REDIS_URL=redis://:password@localhost:6379/0

# ============================================================================
# FILE UPLOAD CONFIGURATION
# ============================================================================
MAX_FILE_SIZE=10485760  # 10MB in bytes
ALLOWED_FILE_TYPES=pdf,doc,docx  # Comma-separated
UPLOAD_DIR=./uploads

# ============================================================================
# AI/NLP CONFIGURATION
# ============================================================================
# OpenAI API Key - REQUIRED for AI features
# Get from: https://platform.openai.com/api-keys
# SECURITY: Enable API key restrictions (IP whitelist, usage limits)
OPENAI_API_KEY=sk-your-openai-api-key-here

# Anthropic API Key - OPTIONAL
# Get from: https://console.anthropic.com/
ANTHROPIC_API_KEY=sk-ant-your-anthropic-key-here

# AI Model Configuration
AI_MODEL=gpt-4  # Options: gpt-4, gpt-3.5-turbo, etc.
AI_TEMPERATURE=0.7

# Interview Configuration
MAX_QUESTIONS_PER_SESSION=10
DEFAULT_DIFFICULTY=intermediate

# ============================================================================
# STRIPE PAYMENT CONFIGURATION (Optional - for paid features)
# ============================================================================
# Get from: https://dashboard.stripe.com/apikeys
# SECURITY: Use test keys (sk_test_) in development
STRIPE_SECRET_KEY=sk_test_your-stripe-secret-key-here
STRIPE_PUBLISHABLE_KEY=pk_test_your-stripe-publishable-key-here
STRIPE_WEBHOOK_SECRET=whsec_your-webhook-secret-here

# Stripe Price IDs for subscription plans
STRIPE_PRICE_STARTER=price_your-starter-price-id
STRIPE_PRICE_PROFESSIONAL=price_your-professional-price-id

# ============================================================================
# EMAIL CONFIGURATION (for verification emails)
# ============================================================================
# Option 1: SMTP (Gmail, etc.)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-specific-password  # Use app password for Gmail
FROM_EMAIL=your-email@gmail.com

# Option 2: AWS SES (Recommended for production)
# Get from: AWS IAM Console
AWS_ACCESS_KEY_ID=AKIA...your-access-key
AWS_SECRET_ACCESS_KEY=your-secret-access-key
AWS_REGION=us-east-1
AWS_SES_FROM_EMAIL=noreply@yourdomain.com

# ============================================================================
# FRONTEND CONFIGURATION
# ============================================================================
# Frontend URL for email verification links
FRONTEND_URL=http://localhost:3000
# For production:
# FRONTEND_URL=https://yourdomain.com

# ============================================================================
# LOGGING CONFIGURATION
# ============================================================================
LOG_LEVEL=INFO  # Options: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_FORMAT=json  # Options: json, text

# ============================================================================
# SESSION CONFIGURATION
# ============================================================================
SESSION_EXPIRY_HOURS=24

# ============================================================================
# EXTERNAL APIS (Optional)
# ============================================================================
# Voice API Configuration (if using external voice service)
VOICE_API_URL=http://localhost:8001

# ============================================================================
# SECURITY NOTES
# ============================================================================
# REQUIRED ACTIONS BEFORE PRODUCTION:
# 1. ✓ Change SECRET_KEY to a strong random value
# 2. ✓ Set DEBUG=False
# 3. ✓ Use production database (PostgreSQL)
# 4. ✓ Set specific CORS_ORIGINS (no wildcards)
# 5. ✓ Use production Stripe keys (sk_live_)
# 6. ✓ Enable HTTPS and update FRONTEND_URL
# 7. ✓ Configure proper email service (AWS SES recommended)
# 8. ✓ Set up monitoring and alerting
# 9. ✓ Enable API key restrictions (IP whitelist, rate limits)
# 10. ✓ Implement regular key rotation schedule
# ============================================================================
